# BCodec
.NET Implementation of encoding and decoding information in a torrent file. [archival]

This is an old project of mine, that I created back in 2005.<br/>
Imported into GitHub for archival puposes only.<br/>
There will be no updates.

<h2>Introduction</h2><p>Last year, I finally upgraded my broadband connection: from a lazy DSL to a whooping T1. Only after that I came in contact with <a href="http://www.bittorrent.com/" shape="rect">BitTorrent</a>. There was some commotion in the <a href="http://groups.yahoo.com/group/BitTorrent/" shape="rect">Yahoo Group</a> that supported its development and I felt an urge to create something. </p><p>My natural development environment nowadays is the .NET platform, so I decided to write a BitTorrent client in VB.NET. </p><p>I gathered as much information about the protocol and file format I could and started coding something. </p><p>A few months after I started creating my client, the creator of BitTorrent decided to shutdown the support group (as you can read <a href="http://groups.yahoo.com/group/BitTorrent/message/6726" shape="rect">here </a>) and somehow it affected my desire to keep with my new creation and I aborted the project. </p><p>I did create some working classes to this project. I am making available here one of them: the BCodec. However, once I am playing around with Visual Studio 2005, I converted the entire class to work in this new environment. </p><h2>BEncoding</h2><p>BEncoding is a way of encoding information, like XML. It supports four types of data: </p><ul class="flower"><li>String</li><li>Integer</li><li>List</li><li>Dictionary</li></ul><h3>BEncoding Strings</h3><p>The only strings that BEncoding supports are ASCII strings. Unicode characters are not supported by this format. However many developers work around this limitation by utilizing UTF-8 encoded string prior to BEncoding&nbsp; them. </p><p>The best way of explaining how a string is BEncoded is with an example: </p><pre xml:space="preserve"><b>15:</b>BEncoded_String</pre><p>We have the length of the string followed by a colon and then the string itself. The above string is 15 bytes long, for instance. </p><p>Each character is taken at its binary value, for instance if following the colon we had a byte <code>&amp;H0</code> it would represent <code>Chr(0)</code> instead and empty string. </p><h3>BEncoding Integers</h3><p>Integers are the only numeric data type that are supported by BEncoding. They are encoded with a leading &quot;<code>i</code>&quot; and a trailing &quot;<code>e</code>&quot;, in their human-readable decimal representation. </p><p>For instance:</p><pre xml:space="preserve"><b>i</b>2010<b>e</b></pre><p>Represents the integer 2010.</p><h3>BEncoding Lists</h3><p>List is an ordered sequence of other data types. It can contain any other data type supported by BEncoding, including other lists. Lists are encoded with a leading &quot;<code>l</code>&quot; and a trailing &quot;<code>e</code>&quot;. </p><p>Each element in the list is also BEncoded.</p><p>Example:</p><pre xml:space="preserve"><b>l</b>13:I am a String18:Next is an Integeri789e<b>e</b></pre><p>The above example is decoded as: </p>
<pre>
[&quot;I am a String&quot;, &quot;Next is an Integer&quot;, 789]
</pre>
<h3>BEncoding Dictionaries</h3><p>A dictionary is a special types of list. Each element of a list is indexed by its position, in a dictionary the element is indexed by its key. Dictionaries are encoded with a leading &quot;d&quot; and a trailing &quot;e&quot;. </p><p>The first item of a BEncoded dictionary is the first key followed by the value, followed by the second key, followed by the second value, and so on. </p><p>Both the key and the value are BEncoded.</p><p>Example:</p><pre xml:space="preserve"><b>d</b>6:square6:yellow5:valuei1025e7:requestl6:banana6:tomatoe<b>e</b></pre><p>The above example is decoded as:</p>
<pre>
{
 &quot;square&quot; -&gt; &quot;yellow&quot;,
 &quot;value&quot;&nbsp; -&gt; 1025
 &quot;request&quot; -&gt; [&quot;banana&quot;, &quot;tomato&quot;]
}
</pre><p>The value of each dictionary entry can be any supported data type, including other dictionary. </p><h3>The original documentation</h3><p>The whole original documentation on the subject is:<br />&nbsp;</p><div class="box"><div align="left"><div id="content" align="justify"><b><font size="3">BEncoding is done as follows: </font></b><ul><li>Strings are length-prefixed base ten followed by a colon and the string. For example 4:spam corresponds to 'spam'. <br />&nbsp; </li><li>Integers are represented by an 'i' followed by the number in base 10 followed by an 'e'. For example i3e corresponds to 3 and i-3e corresponds to -3. Integers have no size limitation. i-0e is invalid. All encodings with a leading zero, such as i03e , are invalid, other than i0e , which of course corresponds to 0. <br />&nbsp; </li><li>Lists are encoded as an 'l' followed by their elements (also BEncoded) followed by an 'e'. For example l4:spam4:eggse corresponds to ['spam', 'eggs']. <br />&nbsp; </li><li>Dictionaries are encoded as a 'd' followed by a list of alternating keys and their corresponding values followed by an 'e'. For example, d3:cow3:moo4:spam4:eggse corresponds to {'cow': 'moo', 'spam': 'eggs'} and d4:spaml1:a1:bee corresponds to {'spam': ['a', 'b']}. Keys must be strings and appear in sorted order (sorted as raw strings, not alphanumerics). </li></ul></div></div></div><p align="right"><i><font size="1">from the official documentation site <font color="#0000ff">http://www.bittorrent.com/protocol.html</font> (broken link)</font></i></p>

